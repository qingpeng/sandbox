#!/usr/bin/perl -w
use strict;

if (@ARGV < 2) {
    print "perl *.pl file_in file_out \n";
    exit;
}
my ($file_in,$file_out) = @ARGV;

open IN, "$file_in"     or die "Can't open $file_in $!";
open OUT,">$file_out";


#141	C_70733	C_802930 C_801812 C_800657 C_800152 C_799139 C_795872 C_795673 C_792528 C_792047 C_791610 C_791041 C_791014 C_790070 C_790052 C_787889 C_786765 C_786523 C_786250 C_786150 C_785151 C_785128 C_784291 C_784139 C_783745 C_782755 C_781939 C_781932 C_781599 C_780494 C_779335 C_777687 C_777155 C_776913 C_776544 C_776507 C_776506 C_775879 C_774859 C_774254 C_772863 C_771543 C_771103 C_771051 C_770251 C_770070 C_769530 C_769320 C_768987 C_768008 C_767124 C_765646 C_764336 C_760478 C_758201 C_757337 C_757189 C_755886 C_752074 C_751848 C_751786 C_751437 C_750393 C_749264 C_749140 C_746878 C_746282 C_745028 C_741197 C_740428 C_740280 C_739918 C_739912 C_736301 C_733403 C_727206 C_727069 C_724630 C_720207 C_720196 C_717495 C_716149 C_715866 C_714353 C_713555 C_712889 C_712739 C_708696 C_708312 C_708101 C_708096 C_703345 C_702399 C_700968 C_700353 C_700197 C_699648 C_698395 C_698188 C_695058 C_694961 C_694956 C_694176 C_694094 C_694088 C_693233 C_693091 C_692012 C_690382 C_689797 C_688836 C_687656 C_685732 C_684603 C_682705 C_681249 C_680876 C_680823 C_679318 C_678992 C_678179 C_675353 C_674245 C_673890 C_672558 C_669528 C_669315 C_669084 C_667606 C_667153 C_665532 C_665509 C_665498 C_664496 C_664310 C_664102 C_663856 C_663112 C_662712 C_661613 C_661605
#150	C_70734	C_803680 C_803588 C_803581 C_803580 C_803327 C_803310 C_803285 C_803201 C_803172 C_803124 C_803079 C_802966 C_802963 C_802945 C_802837 C_802731 C_802630 C_802577 C_802286 C_802273 C_802183 C_802137 C_802134 C_802088 C_801951 C_801924 C_801895 C_801844 C_801833 C_801809 C_801721 C_801648 C_801642 C_801619 C_801591 C_801530 C_801481 C_801461 C_801448 C_801430 C_801207 C_801161 C_800814 C_800778 C_800729 C_800681 C_800678 C_800668 C_800613 C_800585 C_800545 C_800511 C_800499 C_800490 C_800475 C_800469 C_800398 C_800394 C_800373 C_800350 C_800272 C_800203 C_800171 C_800165 C_800160 C_800157 C_800081 C_800055 C_800050 C_800017 C_799996 C_799994 C_799990 C_799983 C_799972 C_799965 C_799956 C_799948 C_799931 C_799855 C_799817 C_799811 C_799800 C_799790 C_799769 C_799764 C_799755 C_799663 C_799658 C_799654 C_799590 C_799577 C_799558 C_799555 C_799551 C_799515 C_799497 C_799429 C_799410 C_799379 C_799374 C_799308 C_799291 C_799287 C_799267 C_799241 C_799234 C_799194 C_799111 C_799071 C_799057 C_799024 C_798990 C_798986 C_798887 C_798877 C_798860 C_798857 C_798838 C_798783 C_798748 C_798715 C_798705 C_798680 C_798679 C_798658 C_798647 C_798638 C_798532 C_798492 C_798460 C_798439 C_798433 C_798411 C_798363 C_798346 C_798308 C_798282 C_798248 C_798234 C_798222 C_798216 C_798184 C_798179 C_798125 C_798073 C_798065 C_797916 C_797909

my %line;
my %number;

while (<IN>) {
    chomp;
    my @s =split /\t/,$_;
    if (defined $s[2]) {

        my @s2 = split /\s/,$s[2];

        $line{$s[1]} = $s[2];
        $number{$s[1]} = scalar @s2;
    }
    else {
        $line{$s[1]} = "";
        $number{$s[1]} = 0;

    }
}
print  "Load over!\n";
my @sorted = sort {$number{$b} <=>$number{$a}} keys %line;
print  "Sort over!\n";

foreach my $key (@sorted) {
    print OUT "$number{$key}\t$key\t$line{$key}\n";
}




